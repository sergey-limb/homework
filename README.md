# Домашнее задание к занятию «Очереди RabbitMQ», Самсонов СВ

### Задание 1. Установка RabbitMQ

Используя Vagrant или VirtualBox, создайте виртуальную машину и установите RabbitMQ. Добавьте management plug-in и зайдите в веб-интерфейс.

![Установка RabbitMQ](img/1.png)

### Задание 2. Отправка и получение сообщений
Используя приложенные скрипты, проведите тестовую отправку и получение сообщения. Для отправки сообщений необходимо запустить скрипт producer.py.

Для работы скриптов вам необходимо установить Python версии 3 и библиотеку Pika. Также в скриптах нужно указать IP-адрес машины, на которой запущен RabbitMQ, заменив localhost на нужный IP.

![web](img/2.png)
![скрипты](img/3.png)

### Задание 3. Подготовка HA кластера

Затем объедините две машины в кластер и создайте политику ha-all на все очереди.

В качестве решения домашнего задания приложите скриншоты из веб-интерфейса с информацией о доступных нодах в кластере и включённой политикой.
![ноды](img/4.png)
![ha-all](img/5.png)

Также приложите вывод команды с двух нод:

$ rabbitmqctl cluster_status
![1 node](img/6.png)
![2 node](img/8.jpg)

Для закрепления материала снова запустите скрипт producer.py и приложите скриншот выполнения команды на каждой из нод:

$ rabbitmqadmin get queue='hello'
![1 node](img/7.png)
![2 node](img/9.jpg)

После чего попробуйте отключить одну из нод, желательно ту, к которой подключались из скрипта, затем поправьте параметры подключения в скрипте consumer.py на вторую ноду и запустите его.
![1 node](img/10.jpg)
![2 node](img/11.png)
